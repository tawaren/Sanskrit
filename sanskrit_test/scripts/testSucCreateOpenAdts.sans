module TestSucCreateOpenAdts {
    public fun CreateEnumA():(res: TestSucOpenAdt.Enum) {
        return pack TestSucOpenAdt.Enum#A();
    };

    public fun CreateWrapper[<Value, Unbound> T](consume t:T):(res: TestSucOpenAdt.Wrapper[T]) {
        return pack TestSucOpenAdt.Wrapper[T]#Ctr(t);
    };

    public fun CreateImageWrapper[T](consume t:%T):(res: %TestSucOpenAdt.Wrapper[T]) {
        return pack %TestSucOpenAdt.Wrapper[T]#Ctr(t);
    };

    public fun CreateWrapperImage[T](consume t:%T):(res: TestSucOpenAdt.Wrapper[%T]) {
        return pack TestSucOpenAdt.Wrapper[%T]#Ctr(t);
    };


    public fun CreateNone[<Value, Unbound> T]():(res: TestSucOpenAdt.Option[T]) {
        return pack TestSucOpenAdt.Option[T]#None();
    };

    public fun CreateSome[<Value, Unbound> T](consume t:T):(res: TestSucOpenAdt.Option[T]) {
        return pack TestSucOpenAdt.Option[T]#Some(t);
    };

    public fun CreateAltA[<Value, Unbound> A,<Value, Unbound> B](consume a:A):(res: TestSucOpenAdt.Alternative[A,B]) {
        return pack TestSucOpenAdt.Alternative[A,B]#A(a);
    };

    public fun CreateAltB[<Value, Unbound> A,<Value, Unbound> B](consume b:B):(res: TestSucOpenAdt.Alternative[A,B]) {
        return pack TestSucOpenAdt.Alternative[A,B]#B(b);
    };

    fun CreateStuffDrop():() {
       e = call .CreateEnumA();
       e2 = copy e;
       w = call .CreateWrapper[TestSucOpenAdt.Enum](e);
       w2 = copy w;
       none = call .CreateNone[TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]]();
       some = call .CreateSome[TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]](w);
       a = call .CreateAltA[TestSucOpenAdt.Enum,TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]](e2);
       b = call .CreateAltB[TestSucOpenAdt.Enum,TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]](w2);
       return;
    };

    fun CreateStuffDiscard():() {
       e = call .CreateEnumA();
       e2 = copy e;
       w = call .CreateWrapper[TestSucOpenAdt.Enum](e);
       w2 = copy w;
       none = call .CreateNone[TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]]();
       some = call .CreateSome[TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]](w);
       a = call .CreateAltA[TestSucOpenAdt.Enum,TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]](e2);
       b = call .CreateAltB[TestSucOpenAdt.Enum,TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]](w2);
       return;
    };

    private fun DropEnum(consume enum:TestSucOpenAdt.Enum):() {
        return switch enum : TestSucOpenAdt.Enum {
            A => {return;};
            B => {return;};
            C => {return;};
            D => {return;};
            E => {return;};
        };
    };

    private fun DropWrapper(consume wrap:TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]):() {
        enum = unpack wrap : TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum];
        return call .DropEnum(enum);
    };

    fun CreateStuffConsume():() {
       e = call .CreateEnumA();
       e2 = copy e;
       w = call .CreateWrapper[TestSucOpenAdt.Enum](e);
       w2 = copy w;
       none = call .CreateNone[TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]]();
       some = call .CreateSome[TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]](w);
       a = call .CreateAltA[TestSucOpenAdt.Enum,TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]](e2);
       b = call .CreateAltB[TestSucOpenAdt.Enum,TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]](w2);

       () = switch none :  TestSucOpenAdt.Option[TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]] {
            None => {return;};
            Some(wrap) => {
                 return call .DropWrapper(wrap);
            };
       };

       () = switch some :  TestSucOpenAdt.Option[TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]] {
           None => {return;};
           Some(wrap) => {
                return call .DropWrapper(wrap);
           };
       };

       () = switch a : TestSucOpenAdt.Alternative[TestSucOpenAdt.Enum,TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]] {
            A(enum) => {
               return call .DropEnum(enum);
            };
            B(wrap) => {
                 return call .DropWrapper(wrap);
            };
       };

       return switch b : TestSucOpenAdt.Alternative[TestSucOpenAdt.Enum,TestSucOpenAdt.Wrapper[TestSucOpenAdt.Enum]] {
            A(enum) => {
               return call .DropEnum(enum);
            };
            B(wrap) => {
                 return call .DropWrapper(wrap);
            };
       };
    };


}