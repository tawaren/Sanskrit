signed(A) transaction{
   a = lit 1:$u8;
   b = pack SomeTypes.NoCopy[$u8]#Ctr(a);
   d = lit 0x00112233445566778899AABBCCDDEEFF00112233:$data;
   (r, s) = call SomeTypes.GenIndexedAt[SomeTypes.NoCopy[$u8]](d,b);
   store s;
};

signed(A) transaction{
   orig = lit 1:$u8;
   a = lit 0x00112233445566778899AABBCCDDEEFF00112233:$data;
   r = call SomeFunctions.GenRef(a);
   b = &load r;
   (d0, i0) = call SomeTypes.BorrowEntryNoCopy[$u8](b);
   d2 = &unpack i0:SomeTypes.NoCopy#Ctr;
   () = call Helpers.AssertEqU8(d2,orig);
};

signed(A) transaction{
   orig = lit 1:$u8;
   a = lit 0x00112233445566778899AABBCCDDEEFF00112233:$data;
   r = call SomeFunctions.GenRef(a);
   b = load r;
   (d0, i0) = call SomeTypes.BorrowEntryNoCopy[$u8](b);
   d2 = &unpack i0:SomeTypes.NoCopy#Ctr;
   () = call Helpers.AssertEqU8(d2,orig);
   free d2;
   free d0;
   free i0;
   store b;
};

signed(A) transaction{
   orig = lit 1:$u8;
   a = lit 0x00112233445566778899AABBCCDDEEFF00112233:$data;
   r = call SomeFunctions.GenRef(a);
   b = &load r;
   (d0, i0) = call SomeTypes.BorrowEntryNoCopy[$u8](b);
   d2 = &unpack i0:SomeTypes.NoCopy#Ctr;
   () = call Helpers.AssertEqU8(d2,orig);
};

signed(A) transaction{
   a = lit 2:$u8;
   b = pack SomeTypes.NoCopy[$u8]#Ctr(a);
   d = lit 0x00112233445566778899AABBCCDDEEFF00112233:$data;
   (r, s) = call SomeTypes.GenIndexedAt[SomeTypes.NoCopy[$u8]](d,b);
   store s;
};

signed(A) transaction{
   changed = lit 2:$u8;
   a = lit 0x00112233445566778899AABBCCDDEEFF00112233:$data;
   r = call SomeFunctions.GenRef(a);
   b = &load r;
   (d0, i0) = call SomeTypes.BorrowEntryNoCopy[$u8](b);
   d2 = &unpack i0:SomeTypes.NoCopy#Ctr;
   () = call Helpers.AssertEqU8(d2,changed);
};