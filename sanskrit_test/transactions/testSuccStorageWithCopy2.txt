signed(A) transaction{
   a = lit 1:IntU8.U8;
   b = pack SomeTypes.NoDrop[IntU8.U8]#Ctr(a);
   d = call IndexOps.ModIndex();
   (r, s) = call SomeTypes.GenIndexedAt[SomeTypes.NoDrop[IntU8.U8]](d,b);
   store s;
};

signed(A) transaction{
   orig = lit 1:IntU8.U8;
   a = call IndexOps.ModIndex();
   r = call SomeFunctions.GenRef(a);
   b = &load r;
  (d0, i0) = call SomeTypes.BorrowEntryNoDrop[IntU8.U8](b);
   d2 = &unpack i0:SomeTypes.NoDrop#Ctr;
   () = call Helpers.AssertEqU8(d2,orig);
};


signed(A) transaction{
   orig = lit 1:IntU8.U8;
   a = call IndexOps.ModIndex();
   r = call SomeFunctions.GenRef(a);
   b = load r;
   c = load r;
   (d0, i0) = call SomeTypes.DeEntryNoDrop[IntU8.U8](b);
   (d1, i1) = call SomeTypes.DeEntryNoDrop[IntU8.U8](c);
   d2 = unpack i0:SomeTypes.NoDrop#Ctr;
   d3 = unpack i1:SomeTypes.NoDrop#Ctr;
   () = call Helpers.AssertEqU8(d2,d3);
   () = call Helpers.AssertEqU8(d2,orig);
};

signed(A) transaction{
   orig = lit 1:IntU8.U8;
   a = call IndexOps.ModIndex();
   r = call SomeFunctions.GenRef(a);
   b = load r;
   c = &load r;
   (d0, i0) = call SomeTypes.DeEntryNoDrop[IntU8.U8](b);
   (d1, i1) = call SomeTypes.BorrowEntryNoDrop[IntU8.U8](c);
   d2 = unpack i0:SomeTypes.NoDrop#Ctr;
   d3 = &unpack i1:SomeTypes.NoDrop#Ctr;
   () = call Helpers.AssertEqU8(d2,d3);
   () = call Helpers.AssertEqU8(d2,orig);
};